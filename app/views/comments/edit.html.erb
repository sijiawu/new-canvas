<h4>Editing comment...</h4>
<div class="row">
  <div class="col-sm-8">
    <%= form_tag "/comments/#{params["id"]}", method: "patch" do %>

      <div id="editor" class="border">
      </div>
      <div class="form-group">
        <textarea id="markup" class="form-control" name="content" style="display:none;"></textarea>
      </div>

      <div id="friend-of-js" style="display:none;">
        <%= raw(@comment.content) %>
      </div>

      <button class="btn btn-primary">Done</button>

    <% end %>
  </div>
</div>

<hr style="margin-top:20px;">

<script>
  const editor = document.getElementById("editor");
  const markup = document.getElementById("markup");
  const friend = document.getElementById("friend-of-js");

  pell.init({
    element: editor,
    actions: ['bold', 'italic', 'heading1', 'heading2', 'underline','strikethrough','olist', 'ulist','line'],
    onChange: (html) => {
      markup.innerHTML = "";
      markup.innerText += html;
    }
  })  

  editor.content.innerHTML = friend.innerHTML
</script>